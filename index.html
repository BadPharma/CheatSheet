<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.6">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <title>CheatSheet</title>
</head>
<body>
    
    <div id="sidebar-tab" class="sidebar-tab">☰</div>
    
        
    <div id="sidebar" class="sidebar" data-step="1" data-intro="">
       
         
        <div class ="header" data-step="2" data-intro="Welcome to the CheatSheet! A tool to make learning new program shortcuts easier!">
            <h1>CheatSheet</h1>
            <strong>A BadPharma Project</strong>
        </div>
        
        <div class="settings-buttons" >
        <button title="Settings menu" id="settings-btn" data-step="2.5" data-intro="Open your settings panel."><span class="btn-label">⚙️</span></button>    
        <button title="Hides all tiles" id="hide-all-tiles-btn" data-step="3" data-intro="Click here to hide all tiles."></button>
        </div>
        
        <div class="sections" data-step="4" data-intro="Here you can manage your categories.">
            <h2 id="section-header">Categories<span id="toggle-section-button" class="triangle-down"></span> </h2>
            <ul id="section-list"></ul>
            <div id="newSection">
                <input type="text"  id="section-name" placeholder="New category name" maxlength="30" data-step="5" data-intro="Enter a name for your new category here.">
                <label for="section-color" class="color-picker">
                    <input type="color" id="section-color" />
                    <span class="color-display"></span>
                </label>
                <button id="add-section" data-step="6" data-intro="Add your new section with this button. Make sure you've selected a colour"><span class="btn-label">Add Section</span></button>
            </div>
        </div>

        
    
        <div class="add-entry-section" data-step="7" data-intro="Add entries to your sheet here.">
            <h2 id="add-entry-header">Entries<span id="toggle-add-form-button" class="triangle-down"></span> </h2>
            <div id="form-inputs">
                <select id="section-select" name="section" ></select>
                <input type="text" id="command" placeholder="Shortcut / Title" maxlength="100" data-step="8" data-intro="Enter the command here.">
                <textarea id="description" placeholder="Description" required rows="2" maxlength="500" data-step="9" data-intro="Enter a description for the command."></textarea>
            </div>
            <button id="add-entry" data-step="10" data-intro="Click here to add your entry. and display it within your CheatSheet"><span class="btn-label">Add Cheat</span></button>
        </div>
    
        <div class="down-up-section" data-step="11" data-intro="Save or upload your entries here.">
            <h2 id="down-up-header"> Save / Upload <span id="toggle-down-up-button" class="triangle-down"></span> </h2>
            <div id="down-up-buttons">
                <button id="download-btn"><span class="btn-label">Download XLSX</span></button>
                <label for="upload-xlsx" class="custom-file-upload"><span class="btn-label">Upload XLSX</span></label>
                <input type="file" id="upload-xlsx" accept=".xlsx"/>
            </div>
        </div>
    
        <div class="templates-section" data-step="12" data-intro="Load one of our templates from our database">
            <h2 id="templates-header"> Templates <span id="toggle-templates-button" class="triangle-down"></span> </h2>
            <div id="template-form">
                <select id="template-select" name="template"></select>
                <button id="load-template-btn"><span class="btn-label">Load Template</span></button>
            </div>
        </div>
    
        <button id="clear-sheet-btn" data-step="13" data-intro="Reset your sheet to start fresh."><span class="btn-label">RESET</span></button>
       
    </div>
    
      
    <div id="config-list" class="config-list open" class="config-list closed"></div>
    


</div>
  
  <!-- MODALS   -->

    <!-- Custom Confirmation Modal -->
<div id="customModal" class="modal">
    <div class="modal-content">
        <span id="closeModal" class="close">&times;</span>
        <p id="modalMessage">Are you sure you want to proceed?</p>
        <button id="confirmBtn">Clear</button>
        <button id="cancelBtn">Merge</button>
    </div>
</div>

<!-- Edit Section Modal -->
<div id="editSectionModal" class="modal">
    <div class="modal-content">
        <span id="closeEditSectionModal" class="close">&times;</span>
        <h2>Edit Category Title</h2>
        <div class="edit-section-input-area">
        <!-- Section Title Input -->
        <input type="text" id="sectionTitleInput" maxlength="30">
        
        <!-- Section Color Input -->
        <label for="editSectionColorInput" class="color-picker">
        <input type="color" id="editSectionColorInput"/>
        <span class="color-display" id="editColorDisplay"></span>
    </label>
        </div>
        <!-- Save Button -->
        <button id="saveSectionTitleBtn">Save</button>
    </div>
</div>

<!-- Edit tile Modal -->
<div id="editModal" class="modal">
    <div class="modal-content">
        <span id="closeEditModal" class="close">&times;</span>
        <h2>Edit Tile</h2>
        <div class="modal-entry-area">
        <select id="edit-section-select"></select>
        <input type="text" id="edit-command" placeholder="Command" maxlength="100">
        <textarea id="edit-description" placeholder="Description" maxlength="150"></textarea>
        </div>
        <button id="save-edit-btn">Save Changes</button>
    </div>
</div>

<!-- Reload Warning Modal -->
<div id="reloadWarningModal" class="modal">
    <div class="modal-content">
        <span id="closeReloadWarningModal" class="close">&times;</span>
        <h2>Warning!</h2>
        <p>Are you sure you want to leave this page? All unsaved data will be lost.</p>
        <button id="stay-button">Stay on Page</button>
        <button id="leave-button">Leave Page</button>
    </div>
</div>

<!-- Feedback Popup -->
<div id="feedback-popup" class="feedback-popup">
    <p id="feedback-message"></p>
</div>

<!-- Settings Modal -->
<div id="settingsModal" class="modal">
    <div class="modal-content">
        <span id="closeSettingsModal" class="close">&times;</span>
        <h2>Settings</h2>
        <div class="settings-content">
           
            <label>
                <label class="circular-toggle">
                    <input type="checkbox" id="dark-mode-toggle" />
                    <span class="circle"></span>
                    <h4> Dark Mode </h4>
                  </label>
            <br />
            
        </div>
       
    </div>
</div>

<script src="app.js"></script> 

</body>
</html>
